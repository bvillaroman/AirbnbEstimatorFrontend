(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{269:function(e,t,a){"use strict";a.r(t);a(63),a(278);var r=a(11),n=a.n(r),s=a(0),o=a.n(s),i=a(280),c=a(88),l=a(267),u=a.n(l),m=a(279),p=a(284),d=a.n(p),f=a(285),b=a.n(f),h=a(283),v=a.n(h),g=a(281),y=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).state={bathrooms:0,responseText:"",lr:"",svr:""},t.handleInput=function(e){var a,r=e.target,n=r.value,s=r.name;t.setState(((a={})[s]=n,a))},t.onSubmit=function(e){var a=parseInt(t.state.bathrooms);t.props.submitBathrooms(a);var r={accommodates:t.props.listing.bedrooms.guests,bathrooms:parseInt(t.state.bathrooms),bed_type:t.handleBedType(t.props.listing.placeType.roomType),bedrooms:t.props.listing.bedrooms.numOfBedrooms,beds:t.props.listing.bedrooms.numOfBedsAvailable,property_type:t.handlePropertyType(t.props.listing.placeType.propertyType),number_of_reviews:t.props.listing.listing.numberOfRatings,review_scores_rating:t.props.listing.listing.reviewScoresRating},n={location:t.props.listing.location.city.replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"").toLowerCase(),season:t.props.listing.listing.season};t.setState({responseText:"loading.."},function(){Object(g.a)("https://3xgrqs0bn4.execute-api.us-east-1.amazonaws.com/dev/models/model",n).then(function(e){var a=e[0].models[0].coefficients,n=e[0].models[1].coefficients,s="price: "+t.calculatePrice(r,a)+",\n  R^2 score: "+e[0].models[0].accuracy.toFixed(3),o="price: "+t.calculatePrice(r,n)+",\n R^2 score: "+e[0].models[1].accuracy.toFixed(3);t.setState({responseText:"",lr:s,svr:o})}).catch(function(e){t.setState({responseText:"sorry, pls try again"})})})},t.calculatePrice=function(e,t){return(parseFloat(e.accommodates*t.accommodates)+parseFloat(e.beds*t.beds)+parseFloat(e.bedrooms*t.bedrooms)+parseFloat(e.bathrooms*t.bathrooms)+parseFloat(e.bed_type*t.bed_type)+parseFloat(e.property_type*t.property_type)+parseFloat(e.number_of_reviews*t.number_of_reviews)+parseFloat(e.review_scores_rating*t.review_scores_rating)+t.intercepts).toFixed(2)},t.handlePropertyType=function(e){var t=1;switch(e){case"Apartment":t=1;break;case"House":t=2;break;case"Townhouse":t=3;break;case"Loft":t=4;break;case"Condominium":t=5;break;case"Serviced Apartment":t=6;break;case"Guest Suite":t=7;break;case"Other":t=8;break;case"Bed & Breakfast":t=9;break;case"Boutique Hotel":t=10;break;case"Resort":t=11;break;case"Guest House":t=12;break;case"Hostel":t=13;break;case"Timeshare":t=15;break;default:t=1}return t},t.handleBedType=function(e){var t=1;switch(e){case"Entire home/apartment":t=1;break;case"Private room":t=2;break;case"Shared room":t=3;break;default:t=1}return t},t}return n()(t,e),t.prototype.render=function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:u.a.formTitle}," Bathrooms "),o.a.createElement(i.a,{label:"How many bathrooms are there?",name:"bathrooms",value:this.state.bathrooms,handleInput:this.handleInput}),o.a.createElement(d.a,{onClick:function(){e.props.switchPages(3)}},o.a.createElement(v.a,null)," ListingType "),o.a.createElement(d.a,{onClick:this.onSubmit}," Submit ",o.a.createElement(b.a,null)),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("div",{className:u.a.formTitle}," Listing Data "),o.a.createElement("div",{className:u.a.formTitle}," ",this.state.responseText," "),o.a.createElement("div",{className:u.a.formPrice}," Number of bedrooms: ",this.props.listing.bedrooms.numOfBedrooms," "),o.a.createElement("div",{className:u.a.formPrice}," Number of beds: ",this.props.listing.bedrooms.numOfBedsAvailable," "),o.a.createElement("div",{className:u.a.formPrice}," Number of bathrooms: ",this.state.bathrooms," "),o.a.createElement("div",{className:u.a.formPrice}," Number of guests: ",this.props.listing.bedrooms.guests," "),o.a.createElement("div",{className:u.a.formPrice}," Property Type: ",this.props.listing.placeType.propertyType," "),o.a.createElement("div",{className:u.a.formPrice}," Number of Reviews: ",this.props.listing.listing.numberOfRatings," "),o.a.createElement("div",{className:u.a.formPrice}," Review Score (out of 100%): ",this.props.listing.listing.reviewScoresRating,"% "),o.a.createElement("div",{className:u.a.formPrice}," Neighborhood: ",this.props.listing.location.city),o.a.createElement("div",{className:u.a.formPrice}," Season: ",this.props.listing.listing.season," "),o.a.createElement("div",{className:u.a.formTitle}," ",this.state.responseText," "),o.a.createElement("div",{className:u.a.formTitle}," Price "),o.a.createElement("div",{className:u.a.formPrice}," Linear Regression: ",this.state.lr," "),o.a.createElement("div",{className:u.a.formPrice}," Support Vector Regression: ",this.state.svr," "))},t}(o.a.Component);t.default=Object(c.b)(function(e){var t=e.reducer;return{page:t.page,response:t.response,listing:t}},function(e){return{submitBathrooms:function(t){return e(Object(m.a)(t))},switchPages:function(t){return e(Object(m.f)(t))}}})(y)},279:function(e,t,a){"use strict";a.d(t,"f",function(){return n}),a.d(t,"e",function(){return s}),a.d(t,"b",function(){return o}),a.d(t,"a",function(){return i}),a.d(t,"d",function(){return c}),a.d(t,"c",function(){return l});var r=a(13),n=(a(281),function(e){return function(t){t({type:r.i,payload:e})}}),s=function(e){return function(t){t({type:r.h,payload:e})}},o=function(e){return function(t){t({type:r.b,payload:e})}},i=function(e){return function(t){t({type:r.a,payload:e})}},c=function(e){return function(t){t({type:r.g,payload:e})}},l=function(e){return function(t){t({type:r.d,payload:e})}}},280:function(e,t,a){"use strict";a(278);var r=a(0),n=a.n(r),s=a(268),o=a.n(s);t.a=function(e){var t=e.label,a=e.value,r=e.name,s=e.handleInput;return n.a.createElement("div",{className:o.a.inputContainer},n.a.createElement("div",{className:o.a.label},t," "),n.a.createElement("input",{label:t,name:r,value:a,onChange:s}))}},281:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var r=a(287),n=a.n(r);function s(e,t){var a={method:"post",url:e,data:JSON.stringify(t)};return console.log(JSON.stringify(t)),n()(a).then(function(e){return e.data}).catch(function(e){return e})}},283:function(e,t,a){"use strict";var r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(0)),s=(0,r(a(288)).default)(n.default.createElement(n.default.Fragment,null,n.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),n.default.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})),"ArrowBack");t.default=s}}]);
//# sourceMappingURL=component---src-pages-bathrooms-js-587d783a619de1ab2a95.js.map