(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{269:function(e,t,a){"use strict";a.r(t);a(63),a(278);var r=a(11),n=a.n(r),o=a(0),s=a.n(o),i=a(280),c=a(88),l=a(267),u=a.n(l),p=a(279),m=a(284),d=a.n(m),f=a(285),b=a.n(f),h=a(283),v=a.n(h),y=a(281),g=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).state={bathrooms:"",responseText:"",lr:"",svr:""},t.handleInput=function(e){var a,r=e.target,n=r.value,o=r.name;t.setState(((a={})[o]=n,a))},t.onSubmit=function(e){var a=parseInt(t.state.bathrooms);t.props.submitBathrooms(a);var r={accommodates:t.props.listing.bedrooms.guests,bathrooms:parseInt(t.state.bathrooms),bed_type:t.handleBedType(t.props.listing.placeType.roomType),bedrooms:t.props.listing.bedrooms.numOfBedrooms,beds:t.props.listing.bedrooms.numOfBedsAvailable,property_type:t.handlePropertyType(t.props.listing.placeType.propertyType),number_of_reviews:t.props.listing.listing.numberOfRatings,review_scores_rating:t.props.listing.listing.reviewScoresRating},n={location:t.props.listing.location.city.replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"").toLowerCase(),season:t.props.listing.listing.season};t.setState({responseText:"loading.."},function(){Object(y.a)("https://3xgrqs0bn4.execute-api.us-east-1.amazonaws.com/dev/models/model",n).then(function(e){var a=e[0].models[0].coefficients,n=e[0].models[1].coefficients,o="price: "+t.calculatePrice(r,a)+",\n algorithm: Linear Regression with Gradient Boosting, R^2 score: "+e[0].models[0].accuracy,s="price: "+t.calculatePrice(r,n)+",\n algorithm: Support Vector Regression with Gradient Boosting, R^2 score: "+e[0].models[1].accuracy;t.setState({responseText:"",lr:o,svr:s})}).catch(function(e){t.setState({responseText:"sorry, pls try again"})})})},t.calculatePrice=function(e,t){return(parseFloat(e.accommodates*t.accommodates)+parseFloat(e.beds*t.beds)+parseFloat(e.bedrooms*t.bedrooms)+parseFloat(e.bathrooms*t.bathrooms)+parseFloat(e.bed_type*t.bed_type)+parseFloat(e.property_type*t.property_type)+parseFloat(e.number_of_reviews*t.number_of_reviews)+parseFloat(e.review_scores_rating*t.review_scores_rating)+t.intercepts).toFixed(2)},t.handlePropertyType=function(e){var t=1;switch(e){case"Apartment":t=1;break;case"House":t=2;break;case"Townhouse":t=3;break;case"Loft":t=4;break;case"Condominium":t=5;break;case"Serviced Apartment":t=6;break;case"Guest Suite":t=7;break;case"Other":t=8;break;case"Bed & Breakfast":t=9;break;case"Boutique Hotel":t=10;break;case"Resort":t=11;break;case"Guest House":t=12;break;case"Hostel":t=13;break;case"Timeshare":t=15;break;default:t=1}return t},t.handleBedType=function(e){var t=1;switch(e){case"Entire home/apartment":t=1;break;case"Private room":t=2;break;case"Shared room":t=3;break;default:t=1}return t},t}return n()(t,e),t.prototype.render=function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:u.a.formTitle}," Bathrooms "),s.a.createElement(i.a,{label:"How many bathrooms are there?",name:"bathrooms",value:this.state.bathrooms,handleInput:this.handleInput}),s.a.createElement(d.a,{onClick:function(){e.props.switchPages(3)}},s.a.createElement(v.a,null)," ListingType "),s.a.createElement(d.a,{onClick:this.onSubmit}," Submit ",s.a.createElement(b.a,null)),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:u.a.formPrice}," ",this.state.responseText," "),s.a.createElement("div",{className:u.a.formPrice}," ",this.state.lr," "),s.a.createElement("div",{className:u.a.formPrice}," ",this.state.svr," "))},t}(s.a.Component);t.default=Object(c.b)(function(e){var t=e.reducer;return{page:t.page,response:t.response,listing:t}},function(e){return{submitBathrooms:function(t){return e(Object(p.a)(t))},switchPages:function(t){return e(Object(p.f)(t))}}})(g)},279:function(e,t,a){"use strict";a.d(t,"f",function(){return n}),a.d(t,"e",function(){return o}),a.d(t,"b",function(){return s}),a.d(t,"a",function(){return i}),a.d(t,"d",function(){return c}),a.d(t,"c",function(){return l});var r=a(13),n=(a(281),function(e){return function(t){t({type:r.i,payload:e})}}),o=function(e){return function(t){t({type:r.h,payload:e})}},s=function(e){return function(t){t({type:r.b,payload:e})}},i=function(e){return function(t){t({type:r.a,payload:e})}},c=function(e){return function(t){t({type:r.g,payload:e})}},l=function(e){return function(t){t({type:r.d,payload:e})}}},280:function(e,t,a){"use strict";a(278);var r=a(0),n=a.n(r),o=a(268),s=a.n(o);t.a=function(e){var t=e.label,a=e.value,r=e.name,o=e.handleInput;return n.a.createElement("div",{className:s.a.inputContainer},n.a.createElement("div",{className:s.a.label},t," "),n.a.createElement("input",{label:t,name:r,value:a,onChange:o}))}},281:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var r=a(287),n=a.n(r);function o(e,t){var a={method:"post",url:e,data:JSON.stringify(t)};return console.log(JSON.stringify(t)),n()(a).then(function(e){return e.data}).catch(function(e){return e})}},283:function(e,t,a){"use strict";var r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(0)),o=(0,r(a(288)).default)(n.default.createElement(n.default.Fragment,null,n.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),n.default.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})),"ArrowBack");t.default=o}}]);
//# sourceMappingURL=component---src-pages-bathrooms-js-b91f3e80e9560a2cc92c.js.map